cmake_minimum_required(VERSION 3.18)

# Test executables
add_executable(test_depth test_depth.cpp)
target_link_libraries(test_depth video3d_cuda ${OpenCV_LIBS} ${CUDA_LIBRARIES} Eigen3::Eigen)

add_executable(test_registration test_registration.cpp)
target_link_libraries(test_registration video3d_cuda ${OpenCV_LIBS} ${CUDA_LIBRARIES} Eigen3::Eigen)

add_executable(benchmark benchmark.cpp)
target_link_libraries(benchmark video3d_cuda ${OpenCV_LIBS} ${CUDA_LIBRARIES} Eigen3::Eigen)

# Add tests
add_test(NAME DepthEstimation COMMAND test_depth)
add_test(NAME Registration COMMAND test_registration)
add_test(NAME PerformanceBenchmark COMMAND benchmark)
